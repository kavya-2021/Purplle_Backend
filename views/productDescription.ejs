<!DOCTYPE html>
<html>


  <head>
    <title>Product Description</title>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://kit-pro.fontawesome.com/releases/v5.15.4/css/pro.min.css" rel="stylesheet">

    <link rel="icon" href="https://media6.ppl-media.com/mediafiles/ecomm/misc/purplle-16x16.png">
    <script src="https://code.iconify.design/2/2.1.0/iconify.min.js"></script>
    <!-- <link rel="stylesheet" href="comp/navcss.css"> -->
    <link rel="stylesheet" href="/css/navbar.css">
<!-- </head> -->





    <!-- <head>
        <link rel="icon" href="https://media6.ppl-media.com/mediafiles/ecomm/misc/purplle-16x16.png">
        <link rel="stylesheet" href="comp/navcss.css">
        <link href="https://kit-pro.fontawesome.com/releases/v5.15.4/css/pro.min.css" rel="stylesheet">
        <script src="https://code.iconify.design/2/2.1.0/iconify.min.js"></script> -->
        <style>
    

            #product {
             
              margin: auto;
              margin-top: 20px;
              width: 85%;
              height: 600px;
              display: flex;
              gap: 10px;
              z-index: 0;
            }
            #product_images {
             
              flex: 5;
              display: flex;
              gap: 0px;
            }
            #product_description {
              
            
              flex: 2.2;
            }
            #small_images {
            
              flex: 1.2;
              display: grid;
            }
            #small_images > div {
              border: 1px solid rgb(167, 162, 167);
              margin-bottom: 10px;
            }
            #small_images > div:nth-last-child(1) {
              margin-bottom: 0px;
            }
            #small_images > div {
              width: 60%;
              height: 120px;
            }
            #small_images > div > img {
             
              max-width: 100%;
              max-height: 100%;
            }
            #large_image {
              border: 1px solid rgb(104, 104, 102);
              flex: 6;
              overflow: hidden;
              position: relative;
             margin-right:50px ;
             /* z-index: -5000; */
            }
            #large_image > img {
              cursor: zoom-in;
              max-width: 100%;
              min-width: 100%;
              position: absolute;
              left: 50%;
              top: 50%;
              transform: translate(-50%,-50%);
             z-index: -1838;
              height: 100%;
            }
            img {
              width: 100%;
              height: 100%;
            }
            #description_rating {
             
              height: 30%;
            }
            #description{
              font-size: 19px;
              line-height: 1.2;
            }
            #rating {
              display: flex;
              align-items: center;
            }
            #rating > button {
              display: flex;
              height: 30px;
              vertical-align: bottom;
              margin-right: 10px;
              font-weight: lighter;
              line-height: 2;
              color: white;
              background-color: yellowgreen;
              border: none;
              align-items: center;
              border-radius: 10%;
            }
            #rating > p {
              color: gray;
              font-size: 15px;
            }
            #rating > p:hover {
              text-decoration: underline;
              color: black;
            }
            #price_primer {
              /* border: 1px solid blue; */
              margin-top: -30px;
              height: 15%;
              display: grid;
            }
            #price {
              display: flex;
            }
            #price > p {
              line-height: 02;
              margin-left: 5px;
            }
            #price > p:nth-last-child(2) {
              text-decoration: line-through;
              color: rgb(121, 120, 120);
            }
            #price > p:nth-last-child(1) {
              color: mediumvioletred;
            }
            #primer {
              display: flex;
            }
            #badge {
              display: flex;
              padding-left: 10px;
              background-color: #a456ab;
              color: white;
            }
            .iconify {
              position: relative;
              left: 30;
              width: 100%;
            }
            #offers {
              /* border: 1px solid yellow; */
              height: 20%;
              padding-top: 10px;
            }
            #offers > div {
              display: flex;
              margin-top: 5px;
              background-color: lavenderblush;
            }
            #discount_img {
              flex: 1;
            }
            #discount_desc {
              flex: 5;
            }
            #explore {
              /* border: 1px solid black; */
              height: 30%;
              display: grid;
            
              align-content: flex-start;
            }
            #explore>ul{
              display: flex;
              flex-wrap: wrap;
              margin-left: -20px;
            }
           #explore>ul>li{
            text-decoration: none;
              list-style-type: none;
                border-bottom-left-radius: 40%;
                border-bottom-right-radius: 40%;
                border-top-right-radius: 40%;
                border-top-left-radius: 40%;
                text-align: center;
                padding: 2%;
                margin-right: 10px;
                margin-bottom: 10px;
              border: 1px solid black;
            }
            #explore>ul>li:hover{
              border-color: mediumvioletred;
            }
      
      
      
            #details_reviews_cart{
              /* border: 1px solid black; */
              display: flex;
              width: 85%;
              margin: auto;
              gap: 20px;
            }
            #details_reviews{
              /* border: 1px solid red; */
              flex:5;
            }
            #cart_delivery{
              /* border: 1px solid green; */
              flex:2.2;
              margin-top: 30px;
            }
            #addtocart_save{
              /* border: 1px solid yellow; */
              width: 100%;
              height:60px;
              display: flex;
              gap: 10px;
            }
            #addtocart_save>button:nth-child(1){
              flex:3;
              background-color: mediumvioletred;
              border: none;
              border-radius: 2%;
              color: white;
              font-size: 20px;
            }
            #addtocart_save>button:nth-child(2){
              flex:2;
              align-items: center;
              color: mediumvioletred;
              background-color: white;
              border: none;
              border: 1px solid gray;
              font-size: 15px;
            }
      
            #addtocart_save>button:nth-child(2)>.iconify{
              
              width:25px;
            }
            #red_heart{
        color: red;
      }
      
            #delivery_to{
              /* border: 1px solid black; */
              width:100%;
              height:50px;
              display: flex;
              padding-top: 20px;
            }
            #delivery_to>div>.iconify{
              border: none;
              color: mediumvioletred;
              width:20px;
            }
            #delivery_to>div{
              display: flex;
              height:27px;
              border-bottom: 2px solid mediumvioletred;
            }
            #delivery_to>div>input{
              border: none;
              outline: none;
              height: 20px;
            }
            #delivery_details{
              /* border: 1px solid blue; */
              width:100%;
              height:200px;
              line-height: 2;
            }
            #delivery_details ul{
              list-style: none;
              margin-left: -24px;
              color: gray;
              font-size: 17px;
            }
            #delivery_details ul li::before{
               content:"✓"
            }
      
      
            #highlights{
              /* border:1px solid rgb(43, 14, 202); */
              width:100%;
              height:300px;
            }
            #ideal_for{
              /* border: 3px solid rgb(27, 27, 26); */
              width:100%;
              height:250px;
             
            }
            #ideal_for_img{
                display: flex;
                gap: 10px;
            }
            #ideal_for_img>div{
              /* border:1px solid green; */
              width: 15%;
              height: 180px;
              text-align: center;
             
            }
            #ideal_for_img>div>img{
              width:80%;
              height: 50%;
            }
            #benefits{
            
              width:100%;
              height:250px;
             
            }
      
            #benefits_img{
              display: flex;
              gap: 10px;
              flex-wrap: wrap;
            }
            #benefits_img>div{
             
              width: 15%;
              height: 180px;
              text-align: center;
            }
            #benefits_img>div>img{
              width:80%;
              height: 50%;
            }
            #full_description{
             
              width:100%;
              height: 300px;
            }
            #get_description{
              padding-left: 20px;
              color: gray;
              font-size: 18px;
              line-height: 1.5;
            }
            #best_before{
              border: 1px dotted rgb(102, 101, 101);
              width:25%;
             padding: 5px;
            }
            #specification{
              
              width:100%;
              height: 350px;
            }
            #specification_content{
             
              display: flex;
              flex-direction: column;
              
              height: 85%;
            }
            #specification_content>div{
             
              display: flex;
              margin-top: 0px;
              height: 40px;
            }
            #specification_content>div>p:nth-child(1){
             
              height: 100%;
              flex:2;
            }
            #specification_content>div>p:nth-child(2){
           
              height: 100%;
              color: gray;
              flex:7;
            }
            .bold_text{
              font-size: 20px;
            }
      
      
      /* Slider image CSS */
      #also_viewed{
        
        width: 85%;
        height:390px;
        margin: auto;
        
        text-align: center;
      
      }
      #also_viewed>div{
       
        padding: 0px;
        position: relative;
        height: 80%;
        width: 100%;
      }
      #also_viewed>div>span{
        position: relative;
        top: 40%;
        left: -50%;
        font-size: 60px;
        cursor: pointer;
        z-index: 1;
       
      }
      #also_viewed>div>span:nth-of-type(2){
        left:50%;
        text-align: right;
      }
      #also_viewed_slider{
        display: flex;
        gap: 10px;
        margin-top: -50px;
        overflow-x: auto;
        overflow-y: hidden;
        justify-content: left;
        /* z-index: -44445; */
       
      }
      #also_viewed_slider::-webkit-scrollbar{
        visibility: hidden;
      }
      #also_viewed_slider>div{
       
        min-width: 270px;
        height: 300px;
        position: relative;
        text-align: center;
        transition: 1.5s;
        margin-left: 30px;
        /* z-index: -4848; */
        
      }
      #also_viewed_slider>div>p{
        height:40px;
        position: relative;
        top: -20px;
        text-overflow: ellipsis;
        overflow: hidden;
      }
      #also_viewed_slider>div:nth-last-child(1){
        margin-right: 30px;
      }
      
      #also_viewed_slider>div>div{
        display: flex;
        margin-top: -30px;
        position: relative;
        top: -20px;
        gap: 5px;
        padding-left: 5px;
      }
      #also_viewed_slider>div>div>p:nth-child(2){
        line-height:1.7;
        text-decoration: line-through;
        color: rgb(65, 65, 66);
      
      }
      #also_viewed_slider>div>div>p:nth-child(3){
        line-height: 1.7;
        color: rgb(207, 44, 44);
      }
      .viewed_div>img{
        height:70%;
      
      }
      
      
      #slider_btn{
        
         width: 100%;
         height: 30px;
         position: relative;
         top: -10px;
         margin-bottom: -10px;
         text-align: center;
          background-color: #2c414c;
          color: #fff;
          text-transform: uppercase;
          letter-spacing: 1px;
          opacity: 0;
          cursor: pointer;
          border: none;
          border-radius: 3%;
          
      }
      #slider_img:hover #slider_btn{
        opacity: 1;
        
      }
      
      
      
      /* Featured Slider CSS */
      
      #featured{
        /* border: 1px solid red; */
        width: 85%;
        height:390px;
        margin: auto;
        /* overflow: hidden; */
        text-align: center;
        margin-top: 20px;
      }
      #featured>div{
        /* border: 2px solid green; */
        padding: 0px;
        position: relative;
        height: 80%;
        width: 100%;
      }
      #featured>div>span{
        position: relative;
        top: 40%;
        left: -50%;
        font-size: 60px;
        cursor: pointer;
        z-index: 1;
      }
      #featured>div>span:nth-of-type(2){
        left:50%;
        text-align: right;
      }
      #featured_slider{
        display: flex;
        gap: 10px;
        margin-top: -50px;
        overflow-x: auto;
        overflow-y: hidden;
        justify-content: left;
        /* z-index: -4848; */
       
      }
      #featured_slider::-webkit-scrollbar{
        visibility: hidden;
      }
      #featured_slider>div{
       
        min-width: 270px;
        height: 300px;
        position: relative;
        text-align: center;
        transition: 1.5s;
        margin-left: 30px;
        /* z-index: -4848; */
        
        
      }
      #featured_slider>div>p{
        height:40px;
        position: relative;
        top: -20px;
        text-overflow: ellipsis;
        overflow: hidden;
      }
      #featured_slider>div:nth-last-child(1){
        margin-right: 30px;
      }
      
      
      #featured_slider>div>div{
        display: flex;
        margin-top: -30px;
        position: relative;
        top: -20px;
        gap: 5px;
        padding-left: 5px;
      }
      #featured_slider>div>div>p:nth-child(2){
        line-height:1.7;
        text-decoration: line-through;
        color: rgb(65, 65, 66);
      
      }
      #featured_slider>div>div>p:nth-child(3){
        line-height: 1.7;
        color: rgb(207, 44, 44);
      }
      .featured_div>img{
        height:70%;
      
      }
      
      
      /* Todays Deals Slider */
      
      #todays_deals{
       
        width: 85%;
        height:390px;
        margin: auto;
       
        text-align: center;
        margin-top: 20px;
      }
      #todays_deals>div{
       
        padding: 0px;
        position: relative;
        height: 80%;
        width: 100%;
      }
      #todays_deals>div>span{
        position: relative;
        top: 40%;
        left: -50%;
        font-size: 60px;
        cursor: pointer;
        z-index: 1;
      }
      #todays_deals>div>span:nth-of-type(2){
        left:50%;
        text-align: right;
      }
      #todays_deals_slider{
        display: flex;
        gap: 10px;
        margin-top: -50px;
        overflow-x: auto;
        overflow-y: hidden;
        justify-content: left;
        /* z-index: -4848; */
       
      }
      #todays_deals_slider::-webkit-scrollbar{
        visibility: hidden;
      }
      #todays_deals_slider>div{
       
        min-width: 270px;
        height: 300px;
        position: relative;
        text-align: center;
        transition: 1.5s;
        margin-left: 30px;
        /* z-index: -4848; */
        
        
      }
      #todays_deals_slider>div>p{
        height:40px;
        position: relative;
        top: -20px;
        text-overflow: ellipsis;
        overflow: hidden;
      }
      #todays_deals_slider>div:nth-last-child(1){
        margin-right: 30px;
      }
      #todays_deals_slider>div>div{
        display: flex;
        margin-top: -30px;
        position: relative;
        top: -20px;
        gap: 5px;
        padding-left: 5px;
      }
      #todays_deals_slider>div>div>p:nth-child(2){
        line-height:1.7;
        text-decoration: line-through;
        color: rgb(65, 65, 66);
      
      }
      #todays_deals_slider>div>div>p:nth-child(3){
        line-height: 1.7;
        color: rgb(207, 44, 44);
      }
      .todays_deals_div>img{
        height:70%;
      
      }
      
      
      /* Footer Part */
      
      #secure_assist_help {
        margin-top: 100px;
              border-top: 1px solid rgb(134, 131, 131);
              border-bottom: 1px solid rgb(134, 131, 131);
              width: 100%;
              height: 250px;
              display: flex;
              justify-content: center;
            }
            #secure_assist_help > div {
               border-right: 1px solid rgb(121, 124, 121);
               width:28.3%;
               height: 100%;
               display: block;
               text-align: center;
            }
            #secure_assist_help >div>img{
              width: 40%;
              height: 40%;
            padding-top: 20px;
              
            }
      
            #secure_assist_help >div:nth-last-child(1) {
              border-right: none;
            }
            .advertise {
              display: flex;
              width: 100%;
              margin: auto;
              background-color: #f5f6f7;
              justify-content: space-evenly;
              border: 1px solid rgb(211, 211, 216);
              border-top: none;
            }
            .advertise > div {
              margin-left: 90px;
            }
            .advertise > div > div {
              background-color: palevioletred;
              display: flex;
              width: 50%;
              justify-content: space-between;
            }
            .advertise>div>hr {
              height: 8px;
              background-color: rgb(185, 177, 177);
              border-radius: 100%;
              width: 80%;
              margin: auto;
              margin-top: 10px;
            }
            #app_ads {
              width: 400px;
              display: flex;
            }
            #app_ads > div:nth-child(1) {
              width: 50%;
              margin-left: 20px;
              text-align: left;
            }
            .google_apple{
              height: 50px;
            }
            #app_ads > div:nth-child(1) > p {
              color: white;
              margin-bottom: 40px;
            }
      
         #thatDiv{
           z-index: 9999999999999;
         }
      
          </style>
    </head>
    <body onload ="setD('<%= JSON.stringify(required)%>',`<%= JSON.stringify(allProducts)%>`)" >
   
        <div id="thatDiv">

        </div>
        <div id="product">
          <div id="product_images">
            <div id="small_images">
            
            </div>
    
            <div id="large_image">
              <img id="large_image_src" src="" alt="" />
            </div>
          </div>
    
          <div id="product_description">
            <div id="description_rating">
              <p id="description"></p>
              <div id="rating"></div>
            </div>
    
            <div id="price_primer">
              <div id="price"></div>
              <div id="primer">
                <div id="badge">
                  <div>#Best Seller</div>
                  <div>
                    <span
                      id="triangle"
                      class="iconify"
                      data-icon="bx:bxs-left-arrow"
                      style="color: white"
                      data-width="20"
                      data-height="20"
                    ></span>
                  </div>
                </div>
                <div>
                  In <span style="color: rgb(228, 39, 102)">Primer See Top 25</span>
                </div>
              </div>
            </div>
    
            <div id="offers">
              Available Offers (1)
              <div>
                <span
                  id="discount_img"
                  class="iconify"
                  data-icon="tabler:discount-2"
                  style="color: pink"
                  data-width="40"
                  data-height="40"
                ></span>
                <p id="discount_desc">
                  Choose Your FREE Gift worth Rs.199 on cart orders above Rs.199
                  across NY Bae. Offer is not valid on select products.T&C
                </p>
              </div>
            </div>
    
            <div id="explore">
              <p>Explore:</p> 
             <ul>
               <li>Tinted Primer - Yellow</li>
               <li>Face Primer</li>
               <li>Brightenin Face Primer</li>
               <li>Brightenin face Primer</li>
             </ul>
            </div>
          </div>
        </div>
    
    
    
        <!-- Details, Description, Specification -->
    
    
      <div id="details_reviews_cart">
        <div id="details_reviews">
          
            <div id="ideal_for">
              <p class="bold_text">IDEAL FOR</p>
              <div id="ideal_for_img">
                <div>
                  <img src="https://media6.ppl-media.com/static/img/cache/default/F.png" alt="Fine Lines And Pores">
                  <p>Fine Lines And Pores</p>
                </div>
                <div>
                  <img src="https://media6.ppl-media.com/static/img/cache/default/A.png" >
                  <p>All Skin Types</p>
                </div>
              </div>
              
            </div>
    
            <div id="benefits">
              <p class="bold_text">BENEFITS</p>
              <div id="benefits_img">
                 <div>
                  <img src="https://media6.ppl-media.com/static/img/cache/default/E.png" alt="Even Skin Tone">
                  <p>Even Skin Tone</p>
                 </div>
                 <div>
                  <img src="https://media6.ppl-media.com/static/img/cache/default/B.png" alt="Blurs Out Pores &amp; Fine Lines">
                  <p>Blurs Out Pores & Fine Lines</p>
                 </div>
                 <div>
                  <img  src="https://media6.ppl-media.com/mediafiles/ecomm/promo/1492791383_hydrating.png"  alt="Hydrating">
                  <p>Hydrating</p>
                 </div>
                 <div>
                  <img  src="https://media6.ppl-media.com/static/img/cache/default/E.png"  alt="Enriched With Vitamin E">
                  <p>Enriched With Vitamin E</p>
                 </div>
                 <div>
                  <img src="https://media6.ppl-media.com/mediafiles/ecomm/promo/1492791391_light-weight.png"  alt="Light Weight">
                  <p>Light Weight</p>
                 </div>
              </div>
            </div>
            <div id="full_description">
              <p class="bold_text">Description</p>
              <p id="get_description"></p>
              <p id="best_before"></p>
            </div>
            <div id="specification">
              <p class="bold_text">Specification</p>
              <div id="specification_content">
                    <div>
                      <p>Skin Concern</p>
                      <p id="skin_concern"></p>
                    </div>
                    <div>
                      <p>Skin Type</p>
                      <p id="skin_type"></p>
                    </div>
                    <div>
                      <p>Speciality</p>
                      <p id="speciality"></p>
                    </div>
                  
                    <div>
                      <p>Benefits</p>
                      <p id="benefits_specs"></p>
                    </div>
                    <div>
                      <p>Product Type</p>
                      <p id="product_type"></p>
                    </div>
                    <div>
                      <p>Country Of Origin</p>
                      <p id="origin"></p>
                    </div>
                   
                </div>
              </div>
        </div>
    
    
    
    
        <div id="cart_delivery">
            <div id="addtocart_save">
                 <button id="addtocart">ADD TO CART</button>
                 <button id="save" style="display: flex; justify-content: center; "><span class="iconify" data-icon="el:heart-empty"  data-width="20" data-height="20" ></span>SAVE</button>
            </div>
            <div id="delivery_to">
              <label for="">Delivery To:</label>
              <div>
                <span class="iconify" data-icon="carbon:location-filled" data-width="20" data-height="20"></span>
                <input type="text" placeholder="Enter Pincode">
                <label for="" style="color: mediumvioletred;">Check Delivery</label>
              </div>
              
            </div>
            <div id="delivery_details">
               <ul>
                 <li>100% Genuine products</li>
                 <li>15 Days easy returns</li>
                 <li>Qualifies for free delivery</li>
                 <li>Qualifies for free COD</li>
               </ul>
            </div>
            
        </div>
    
      </div>
    
    
    
    
    
    <!-- Product Suggestion -->
    
    <!-- Slider Portion -->
    
        <div id="also_viewed">
          <h2>ALSO VIEWED</h2>
          <div >
              <span class="viewed_span">&#139</span>
              <span class="viewed_span">&#155</span>
             <section id="also_viewed_slider">
           
             </section>
          </div>
        </div>
    
        <div id="featured">
          <h2>FEATURED</h2>
          <div >
            <span class="featured_span">&#139</span>
            <span class="featured_span">&#155</span>
           <section id="featured_slider">
         
           </section>
        </div>
        </div>
    
      
        <div id="todays_deals">
          <h2>TODAY'S DEALS</h2>
          <div >
            <span class="todays_deals_span">&#139</span>
            <span class="todays_deals_span">&#155</span>
           <section id="todays_deals_slider">
         
           </section>
        </div>
        </div>
    
       
        <div id="secure_assist_help">
          <div id="secure">
            <img
              _ngcontent-htd-c2=""
              alt="secure payments"
              class="w100p mr0auto mx-w120 db pdt25 pdb25 visible"
              src="https://media6.ppl-media.com/mediafiles/ecomm/home/1499247950_secure-payment.jpg"
            />
            <h2>100% Secure Payment</h2>
            <p>All major credit &amp; debit cards accepted.</p>
          </div>
    
          <div id="assist">
            <img
              alt="beauty assistant"
              src="https://media6.ppl-media.com/mediafiles/ecomm/home/1499247975_beauty-assistant.jpg"
            />
            <h2>Beauty Assistant</h2>
            <p>
              Tell me what you are looking for and i will work my magic to help you
              find your perfect match.
            </p>
          </div>
    
          <div id="help">
            <img
              alt="help centre"
              src="https://media6.ppl-media.com/mediafiles/ecomm/home/1499247997_help-center.jpg"
            />
            <h2>Help Center</h2>
            <p>
              Got a question? Look no further. Browse FAQs or submit your query.
            </p>
          </div>
        </div>
    
        <div class="advertise">
          <div>
            <h2>Spotlight</h2>
            <iframe
              _ngcontent-htd-c2=""
              allowfullscreen=""
              frameborder="0"
              height="225"
              src="https://www.youtube.com/embed/NrI9d0XiP7M?rel=0&amp;showinfo=0&amp;autoplay=1"
              width="400"
            ></iframe>
            <hr />
          </div>
          <div>
            <h2>Shop on the go</h2>
            <div id="app_ads">
              <div>
                <p>
                  The Purplle BFF APP is now fully loaded! Get downloading now on
                  both iOS & Android
                </p>
    
                <img
                  alt="Google Play"
                  class="google_apple"
                  src="https://media6.ppl-media.com/mediafiles/ecomm/home/1499247983_google-play.png"
                />
    
                <img
                  alt="App Store"
                  class="google_apple"
                  src="https://media6.ppl-media.com/mediafiles/ecomm/home/1499247967_app-store.png"
                />
              </div>
              <div>
                <img
                  alt="shop on the go"
                  src="https://media6.ppl-media.com/mediafiles/ecomm/home/1499247958_shop-on-the-go.png"
                />
              </div>
            </div>
            <hr />
          </div>
        </div>
    </body>
</html>
<script>
    
    var mainData;
    function setD(required,p){
        var gotProducts=JSON.parse(p)
      
        var data=JSON.parse(required);
        
         showProduct(data);
         alsoViewed(gotProducts);
         featured(gotProducts);
         todaysDeals(gotProducts)


      mainData=data;
         
    }

    function showProduct(data){
//console.log(data)
var small_images_Div = document.getElementById("small_images");
  var small_image_data = data.image_url;
  var large_image = document.getElementById("large_image_src");
  large_image.src=data.image_url[0];
 
  small_image_data.forEach(function (item) {
    var innerDiv = document.createElement("div");


    innerDiv.addEventListener("mouseover", function () {
      viewLargeImage(item);
    });
    var image = document.createElement("img");
    image.src = item;
    innerDiv.append(image);
    small_images_Div.append(innerDiv);
  });
  function viewLargeImage(item) {
    var large_image = document.getElementById("large_image_src");
  
    large_image.src = item;
  }

  // Magnifying Effect Portion

  var magnify_area=document.getElementById("large_image")
    var magnify_img=document.getElementById("large_image_src")
    magnify_area.addEventListener("mousemove",function(event){
        var clientx=event.clientX-magnify_area.offsetLeft
         var clienty=event.clientY -magnify_area.offsetTop

        var mwid=magnify_area.offsetWidth
        var mht=magnify_area.offsetHeight;

        clientx=clientx/ mwid*100
        clienty=clienty/mht*100
        
        magnify_img.style.transform=`translate(-${clientx}%,-${clienty}%) scale(2)`
      

    })
    magnify_area.addEventListener("mouseleave",function() {
        magnify_img.style.transform="translate(-50%,-50%) scale(1)"
      
    })



  var description = document.getElementById("description");
  description.innerText = data.Benefits;
  var rating = document.getElementById("rating");
  rating.innerHTML = `<button>${data.rating}<span class="iconify" data-icon="ant-design:star-filled" style="color: white;" data-width="20" data-height="15"></span></button><p>1320 Ratings |</p><p>842 Reviews</p>`;

  var price = document.getElementById("price");
  var actualPrice = data.price;
  var discountValue = data.discount;
  var profit = Math.round(actualPrice * discountValue);
  var sellingPrice = actualPrice - profit;

//   console.log(actualPrice);
//   console.log(discountValue);
//   console.log(profit);
//   console.log(sellingPrice);

  price.innerHTML = `<h2>₹${sellingPrice}</h2><p>MRP${actualPrice}</p><p>Save ₹${profit}(${
    discountValue * 100
  }%) off</p>`;






var description =document.getElementById("get_description");
description.innerText=data.description;

var bestBefore=document.getElementById("best_before")
bestBefore.innerText=`Best Before : ${data.best_before}`

var skinConcern =document.getElementById("skin_concern")
skinConcern.innerText=data.skin_concern

var skinType=document.getElementById("skin_type")
skinType.innerText=data.skin_type

var speciality=document.getElementById("speciality")
speciality.innerText=data.Speciality



var benefitsSpecs=document.getElementById("benefits_specs")
benefitsSpecs.innerText=data.Benefits

var productType=document.getElementById("product_type")
productType.innerText=data.type

var origin=document.getElementById("origin")
origin.innerText=data.origin
    }
   


   // let data = JSON.parse(localStorage.getItem("DataIndivi"));
  let cartArray = []
  let wishListArray= [];
  //console.log(data);
  



// Slider Portion

// Also Viewed Slider
function alsoViewed(data){
    var alsoViewedProducts=[];
    var totalnumber=data.length-15
    const start = Math.floor(Math.random() * totalnumber) + 1
    var end=start+12;
    for(var i=start;i<end;i++){
        alsoViewedProducts.push(data[i]);

    }
    console.log(alsoViewedProducts.length)
    console.log("prods",alsoViewedProducts);
    var alsoViewedSlider=document.getElementById("also_viewed_slider")

alsoViewedProducts.forEach(function(item){
  // console.log(item);
  var innerDiv=document.createElement("div")
  innerDiv.className="viewed_div";
  innerDiv.id="slider_img";
//   innerDiv.addEventListener("click",function(){
//     displayProduct(item);
//   })
  var image=document.createElement("img");
  image.src=item.image_url[0];
  image.addEventListener("click",function(){
      displayProduct(item);
  })
  var btn=document.createElement("button");
  btn.id="slider_btn"
  btn.innerText="ADD TO CART"
  btn.addEventListener("click",function(){
            addtoCart(item)
        });
  var title=document.createElement("p");
  title.innerText=item.title
   var contentDiv=document.createElement("div");
  
   var vActualPrice=item.price;
   var vDiscount=item.discount;
   var vprofit= Math.round(vActualPrice*vDiscount)
   var vSellingPrice=vActualPrice-vprofit
  

   var displayPrice=document.createElement("h3")
   displayPrice.innerText=`₹${vSellingPrice}`;

   var displayActualPrice=document.createElement("p")
   displayActualPrice.innerText=vActualPrice;

   var vdisplayProfit=document.createElement("p");
   vdisplayProfit.innerText=`${vDiscount*100}% off`
   
contentDiv.append(displayPrice,displayActualPrice,vdisplayProfit)
innerDiv.append(image,btn,title,contentDiv)
alsoViewedSlider.append(innerDiv)

   
})

var alsoViewedSpan=document.getElementsByClassName("viewed_span");
var viewedDiv=document.getElementsByClassName("viewed_div")

var vl=0;
alsoViewedSpan[1].onclick=()=>{
 vl++;
 for(var i of viewedDiv){
   if(vl==2){
     alsoViewedSpan[1].style.visibility="hidden"
   }else{
     alsoViewedSpan[1].style.visibility="visible";
   }
   if(vl==0){
     alsoViewedSpan[0].style.visibility="hidden"
   }else{
     alsoViewedSpan[0].style.visibility="visible";
   }
   if(vl==0){i.style.left="0px";}
   if(vl==1){i.style.left="-1230px";}
   if(vl==2){i.style.left="-2460px";}
   if(vl>2){vl=2}
 }
}
alsoViewedSpan[0].onclick=()=>{
  
 vl--;
 for(var i of viewedDiv){
  if(vl==0){
     alsoViewedSpan[0].style.visibility="hidden"
   }else{
     alsoViewedSpan[0].style.visibility="visible";
   }
   if(vl==2){
     alsoViewedSpan[1].style.visibility="hidden"
   }else{
     alsoViewedSpan[1].style.visibility="visible";
   }
   if(vl==0){i.style.left="0px";}
   if(vl==1){i.style.left="-1230px";}
   if(vl==2){i.style.left="-2460px";}
   if(vl<0){vl=0}
 }
}

    
}






// featured slider

function featured(data){
    var featuredProduct=[];
    var totalnumber=data.length-15
    const start = Math.floor(Math.random() * totalnumber) + 1
    var end=start+12;
    for(var i=start;i<end;i++){
        featuredProduct.push(data[i]);

    }
    var featuredSlider=document.getElementById("featured_slider")

featuredProduct.forEach(function(item){
  var innerDiv=document.createElement("div")
  innerDiv.className="featured_div";
  innerDiv.id="slider_img";
//   innerDiv.addEventListener("click",function(){
//     displayProduct(item);
//   })
  var image=document.createElement("img");
  image.src=item.image_url[0];
  image.addEventListener("click",function(){
      displayProduct(item);
  })
  var btn=document.createElement("button");
  btn.id="slider_btn"
  btn.innerText="ADD TO CART"
  btn.addEventListener("click",function(){
            addtoCart(item)
        });
  var title=document.createElement("p");
  title.innerText=item.title
   var contentDiv=document.createElement("div");
  
   var vActualPrice=item.price;
   var vDiscount=item.discount;
   var vprofit= Math.round(vActualPrice*vDiscount)
   var vSellingPrice=vActualPrice-vprofit
  

   var displayPrice=document.createElement("h3")
   displayPrice.innerText=`₹${vSellingPrice}`;

   var displayActualPrice=document.createElement("p")
   displayActualPrice.innerText=vActualPrice;

   var vdisplayProfit=document.createElement("p");
   vdisplayProfit.innerText=`${vDiscount*100}% off`
   
contentDiv.append(displayPrice,displayActualPrice,vdisplayProfit)
innerDiv.append(image,btn,title,contentDiv)
featuredSlider.append(innerDiv)
})

var featuredSpan=document.getElementsByClassName("featured_span");
var featuredDiv=document.getElementsByClassName("featured_div");

var fl=0;

featuredSpan[1].onclick=()=>{
 fl++
 for(var i of featuredDiv){
   if(fl==2){
     featuredSpan[1].style.visibility="hidden"
   }else{
     featuredSpan[1].style.visibility="visible";
   }
   if(fl==0){
     featuredSpan[0].style.visibility="hidden"
   }else{
     featuredSpan[0].style.visibility="visible";
   }
   if(fl==0){i.style.left="0px";}
   if(fl==1){i.style.left="-1230px";}
   if(fl==2){i.style.left="-2460px";}
   if(fl>2){fl=2}
 }
}
featuredSpan[0].onclick=()=>{
  
 fl--;
 for(var i of featuredDiv){
  if(fl==0){
     featuredSpan[0].style.visibility="hidden"
   }else{
     featuredSpan[0].style.visibility="visible";
   }
   if(fl==2){
     featuredSpan[1].style.visibility="hidden"
   }else{
     featuredSpan[1].style.visibility="visible";
   }
   if(fl==0){i.style.left="0px";}
   if(fl==1){i.style.left="-1230px";}
   if(fl==2){i.style.left="-2460px";}
   if(fl<0){fl=0}
 }
}


}





// Todays Deals Slider

function todaysDeals(data){
    var todaysDealsProducts=[];
    var totalnumber=data.length-15
    const start = Math.floor(Math.random() * totalnumber) + 1
    var end=start+12;
    for(var i=start;i<end;i++){
        todaysDealsProducts.push(data[i]);

    }
    var todaysDealsSlider=document.getElementById("todays_deals_slider");

todaysDealsProducts.forEach(function(item){
  // console.log(item);
  var innerDiv=document.createElement("div")
  innerDiv.className="todays_deals_div";
  innerDiv.id="slider_img";
//   innerDiv.addEventListener("click",function(){
//     displayProduct(item);
//   })
  var image=document.createElement("img");
  image.src=item.image_url[0];
  image.addEventListener("click",function(){
      displayProduct(item);
  })
  var btn=document.createElement("button");
  btn.id="slider_btn"
  btn.innerText="ADD TO CART"
  btn.addEventListener("click",function(){
            addtoCart(item)
        });
  var title=document.createElement("p");
  title.innerText=item.title
   var contentDiv=document.createElement("div");
  
   var vActualPrice=item.price;
   var vDiscount=item.discount;
   var vprofit= Math.round(vActualPrice*vDiscount)
   var vSellingPrice=vActualPrice-vprofit
  

   var displayPrice=document.createElement("h3")
   displayPrice.innerText=`₹${vSellingPrice}`;

   var displayActualPrice=document.createElement("p")
   displayActualPrice.innerText=vActualPrice;

   var vdisplayProfit=document.createElement("p");
   vdisplayProfit.innerText=`${vDiscount*100}% off`
   
contentDiv.append(displayPrice,displayActualPrice,vdisplayProfit)
innerDiv.append(image,btn,title,contentDiv)
todaysDealsSlider.append(innerDiv)

   
})


var todaysDealsSpan=document.getElementsByClassName("todays_deals_span");
var todaysDealsDiv=document.getElementsByClassName("todays_deals_div");

var tdl=0;

todaysDealsSpan[1].onclick=()=>{
 tdl++;
 for(var i of todaysDealsDiv){
   if(tdl==2){
     todaysDealsSpan[1].style.visibility="hidden"
   }else{
     todaysDealsSpan[1].style.visibility="visible";
   }
   if(tdl==0){
     todaysDealsSpan[0].style.visibility="hidden"
   }else{
     todaysDealsSpan[0].style.visibility="visible";
   }
   if(tdl==0){i.style.left="0px";}
   if(tdl==1){i.style.left="-1230px";}
   if(tdl==2){i.style.left="-2460px";}
   if(tdl>2){tdl=2}
 }
}
todaysDealsSpan[0].onclick=()=>{
  
 tdl--;
 for(var i of todaysDealsDiv){
  if(tdl==0){
     todaysDealsSpan[0].style.visibility="hidden"
   }else{
     todaysDealsSpan[0].style.visibility="visible";
   }
   if(tdl==2){
     todaysDealsSpan[1].style.visibility="hidden"
   }else{
     todaysDealsSpan[1].style.visibility="visible";
   }
   if(tdl==0){i.style.left="0px";}
   if(tdl==1){i.style.left="-1230px";}
   if(tdl==2){i.style.left="-2460px";}
   if(tdl<0){tdl=0}
 }
}

}




function displayProduct(item){
  let data = item;
   window.location.href = `/products/${data._id}`;
}


setTimeout(function() {
    console.log('hello',mainData);
}, 3000);




var addingToCart=document.getElementById("addtocart")
var cartClick=0;
addingToCart.addEventListener("click",function(){
  cartClick++;
addingToCart.innerText="IN YOUR CART"
if(cartClick<=1){
  addtoCart(mainData);
}

if(cartClick>1){
 window.location.href=`/cart`;
}
//   console.log(cartArray)
  // addtoCart(data);
})


function addtoCart(item){
//    console.log(item);
  //  console.log(index);
   let toCartItem = item;
   let uniqueId = item.code;
   console.log(uniqueId)
   let count = 0;
   for(let i = 0; i < cartArray.length ; i++){
       if(uniqueId == cartArray[i].code) alert("Item already exists in cart");
       else count++;
   }
   if(count == cartArray.length){
      // document.querySelector("#toCartBtn1").innerHTML = "ADDED TO CART";
      cartArray.push(toCartItem);
      window.post = function(url, data) {
  return fetch(url, {method: "POST", headers: {'Content-Type': 'application/json'}, body: JSON.stringify(data)});
  }
    post("/cart", toCartItem);
    alert("Item added to cart! Successfully") 
   }
   
}

var wishList=document.getElementById("save")
var wishListClick=0;
wishList.addEventListener("click",function(){
  wishListClick++

  if(wishListClick%2!=0){
    wishList.innerHTML="<span class=iconify data-icon=ant-design:heart-filled  data-width=20 data-height=30 id=red_heart ></span>SAVED"
   addtoWishList(mainData)
  }else{
    wishList.innerHTML="<span class=iconify data-icon=el:heart-empty  data-width=20 data-height=20 ></span>SAVE"
  
    removeFromWishList()
   
  }

})
  
function addtoWishList(item) {
  
  let uniqueID=item.id;
  let count=0;
  for(let i=0;i<wishListArray.length;i++){
    if(uniqueID!=wishListArray[i].id){
      count++
    }
  }
 
  if(count==wishListArray.length){
 
    wishListArray.push(item)
    
    console.log("add",wishListArray)
    window.post = function(url, data) {
  return fetch(url, {method: "POST", headers: {'Content-Type': 'application/json'}, body: JSON.stringify(item)});
  }
    post("/wishlist",item);
  }
}

function removeFromWishList() {

 var removeItem=wishListArray.length-1
 wishListArray.splice(removeItem,1)
 
 fetch(`http://localhost:4905/wishlist/${mainData._id}`,{
    method:'DELETE'
}).then(response=>{
    return response.json()
}).then(data=> 
// this is the data we get after putting our data,
console.log("deleted data",data)
);
 
}
</script>


<script type="module">
  import nav from '/navbar.js';

  console.log(nav)
  var div = document.getElementById("thatDiv");

  div.innerHTML = nav();

</script> 
